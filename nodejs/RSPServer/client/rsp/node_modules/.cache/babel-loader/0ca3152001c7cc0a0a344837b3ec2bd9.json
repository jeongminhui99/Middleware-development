{"ast":null,"code":"import _slicedToArray from\"/Users/minhuijeong/Documents/Nodejs/RSPServer/client/rsp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{Component,useState}from'react';import Game from'./Game';import gameicon from'./game.png';import\"./Room.scoped.css\";import'../App.css';import socket from'../socket';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Room(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),playroom=_useState2[0],setPlayroom=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),playroomAlreadySelected=_useState4[0],setPlayroomAlreadySelected=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isValid=_useState6[0],setisValid=_useState6[1];var _useState7=useState(props.value),_useState8=_slicedToArray(_useState7,2),name=_useState8[0],setName=_useState8[1];var sessionID=localStorage.getItem(\"sessionID\");var onSubmit=function onSubmit(event){event.preventDefault();setPlayroomAlreadySelected(true);};function SessionOut(){console.log(\"SessionOut\");localStorage.removeItem(\"sessionID\");// 삭제해야 전페이지로 돌아감\nprops.setNicknameAlreadySelected(false);socket.emit(\"sessionOut\");}var isvalid=function isvalid(room){setPlayroom(room);return room.length>2;};socket.on(\"session\",function(_ref){var sessionID=_ref.sessionID,userID=_ref.userID,username=_ref.username;console.log(\"서버로부터 session: \",username);setName(username);// attach the session ID to the next reconnection attempts\n});return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:!playroomAlreadySelected?/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"img\",{src:gameicon,className:\"gameicon\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Hello!! \\xA0\",name,\" player\"]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Enter playroom...\",onChange:function onChange(e){return setisValid(isvalid(e.target.value));}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"w-btn-neon2\",disabled:!isValid,children:\"Play\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"w-btn-neon\",onClick:SessionOut,children:\"SESSION OUT\"})]}):/*#__PURE__*/_jsx(Game,{value:playroom})});}export default Room;","map":{"version":3,"sources":["/Users/minhuijeong/Documents/Nodejs/RSPServer/client/rsp/src/components/Room.js"],"names":["React","Component","useState","Game","gameicon","socket","Room","props","playroom","setPlayroom","playroomAlreadySelected","setPlayroomAlreadySelected","isValid","setisValid","value","name","setName","sessionID","localStorage","getItem","onSubmit","event","preventDefault","SessionOut","console","log","removeItem","setNicknameAlreadySelected","emit","isvalid","room","length","on","userID","username","e","target"],"mappings":"8IAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAO,mBAAP,CACA,MAAO,YAAP,CACA,MAAOC,CAAAA,MAAP,KAAmB,WAAnB,C,wFAEA,QAASC,CAAAA,IAAT,CAAcC,KAAd,CAAqB,CAEjB,cAAgCL,QAAQ,CAAC,EAAD,CAAxC,wCAAOM,QAAP,eAAiBC,WAAjB,eACA,eAA8DP,QAAQ,CAAC,KAAD,CAAtE,yCAAOQ,uBAAP,eAAgCC,0BAAhC,eACA,eAA8BT,QAAQ,CAAC,KAAD,CAAtC,yCAAOU,OAAP,eAAgBC,UAAhB,eACA,eAAwBX,QAAQ,CAACK,KAAK,CAACO,KAAP,CAAhC,yCAAOC,IAAP,eAAaC,OAAb,eACA,GAAMC,CAAAA,SAAS,CAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAlB,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,CAAW,CACxBA,KAAK,CAACC,cAAN,GACAX,0BAA0B,CAAC,IAAD,CAA1B,CACH,CAHD,CAKA,QAASY,CAAAA,UAAT,EAAqB,CACjBC,OAAO,CAACC,GAAR,CAAY,YAAZ,EACAP,YAAY,CAACQ,UAAb,CAAwB,WAAxB,EAAsC;AACtCnB,KAAK,CAACoB,0BAAN,CAAiC,KAAjC,EACAtB,MAAM,CAACuB,IAAP,CAAY,YAAZ,EACH,CAED,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,IAAD,CAAU,CACtBrB,WAAW,CAACqB,IAAD,CAAX,CACA,MAAOA,CAAAA,IAAI,CAACC,MAAL,CAAc,CAArB,CACH,CAHD,CAKA1B,MAAM,CAAC2B,EAAP,CAAU,SAAV,CAAqB,cAAqC,IAAlCf,CAAAA,SAAkC,MAAlCA,SAAkC,CAAvBgB,MAAuB,MAAvBA,MAAuB,CAAfC,QAAe,MAAfA,QAAe,CACtDV,OAAO,CAACC,GAAR,CAAY,iBAAZ,CAA+BS,QAA/B,EACAlB,OAAO,CAACkB,QAAD,CAAP,CACA;AACH,CAJD,EAOA,mBACI,YAAK,SAAS,CAAC,KAAf,UACK,CAACxB,uBAAD,cACD,gBAAQ,SAAS,CAAC,YAAlB,wBACI,YAAK,GAAG,CAAEN,QAAV,CAAoB,SAAS,CAAC,UAA9B,EADJ,cAEI,oCAEKW,IAFL,aAFJ,cAMI,cAAM,QAAQ,CAAEK,QAAhB,wBACI,cAAO,WAAW,CAAC,mBAAnB,CAAuC,QAAQ,CAAE,kBAAAe,CAAC,QAAItB,CAAAA,UAAU,CAACgB,OAAO,CAACM,CAAC,CAACC,MAAF,CAAStB,KAAV,CAAR,CAAd,EAAlD,EADJ,cAEI,aAFJ,cAGI,eAAQ,SAAS,CAAC,aAAlB,CAAgC,QAAQ,CAAE,CAACF,OAA3C,kBAHJ,GANJ,cAWI,eAAQ,SAAS,CAAC,YAAlB,CAA+B,OAAO,CAAEW,UAAxC,yBAXJ,GADC,cAaW,KAAC,IAAD,EAAM,KAAK,CAAEf,QAAb,EAdhB,EADJ,CAkBH,CAED,cAAeF,CAAAA,IAAf","sourcesContent":["import React, { Component, useState } from 'react';\nimport Game from './Game';\nimport gameicon from './game.png';\nimport \"./Room.scoped.css\"\nimport '../App.css';\nimport socket from '../socket';\n\nfunction Room(props) {\n\n    const [playroom, setPlayroom] = useState(\"\");\n    const [playroomAlreadySelected, setPlayroomAlreadySelected] = useState(false);\n    const [isValid, setisValid] = useState(false); \n    const [name, setName] = useState(props.value);\n    const sessionID = localStorage.getItem(\"sessionID\");\n\n    const onSubmit = (event) => {\n        event.preventDefault();\n        setPlayroomAlreadySelected(true);\n    }\n\n    function SessionOut(){\n        console.log(\"SessionOut\");\n        localStorage.removeItem(\"sessionID\"); // 삭제해야 전페이지로 돌아감\n        props.setNicknameAlreadySelected(false);\n        socket.emit(\"sessionOut\");\n    }\n\n    const isvalid = (room) => {\n        setPlayroom(room);\n        return room.length > 2;\n    }\n\n    socket.on(\"session\", ({ sessionID, userID, username }) => {\n        console.log(\"서버로부터 session: \", username);\n        setName(username);\n        // attach the session ID to the next reconnection attempts\n    });\n  \n\n    return(\n        <div className=\"App\">\n            {!playroomAlreadySelected? \n            <header className=\"App-header\">\n                <img src={gameicon} className=\"gameicon\"/>\n                <p>\n                    Hello!! &nbsp;\n                    {name} player\n                </p>\n                <form onSubmit={onSubmit}>\n                    <input placeholder=\"Enter playroom...\" onChange={e => setisValid(isvalid(e.target.value))}/>\n                    <br/>\n                    <button className=\"w-btn-neon2\" disabled={!isValid}>Play</button>\n                </form> \n                <button className=\"w-btn-neon\" onClick={SessionOut}>SESSION OUT</button>\n            </header> : <Game value={playroom}/> }\n        </div>\n    )\n}\n\nexport default Room;"]},"metadata":{},"sourceType":"module"}